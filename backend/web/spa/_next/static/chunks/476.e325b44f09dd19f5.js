"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[476],{4953:(e,t,l)=>{l.d(t,{H:()=>o,I:()=>i});let a=null,n=null,s=null;async function r(){if(s)return s;let{FFmpeg:e}=await l.e(654).then(l.bind(l,5654));return s=e}async function o(){let e=new(await r());return await e.load({corePath:"/ffmpeg/umd/ffmpeg-core.js",log:!0}),e}async function i(){if(a){if(a.loaded)return a;if(n)return await n,a}let{FFmpeg:e}=await l.e(654).then(l.bind(l,5654));return n=(a=new e).load({corePath:"/ffmpeg/umd/ffmpeg-core.js",log:!0}),await n,n=null,console.info("[FFmpeg] Core ready"),a}},9476:(e,t,l)=>{l.r(t),l.d(t,{default:()=>r});var a=l(5155),n=l(2115),s=l(4953);function r(e){let{title:t,accept:l,inputId:r,action:o,width:i="w-full"}=e,[d,c]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),[p,f]=(0,n.useState)(0),[x,w]=(0,n.useState)([]),[b,j]=(0,n.useState)(null),[v,y]=(0,n.useState)(null),N=async()=>{if(d||u)return;h(!0);let e=await (0,s.I)();e._widgetHooked||(e.on("progress",e=>{let{progress:t}=e;f(t)}),e.on("log",e=>{let{message:t}=e;w(e=>[...e,t])}),e._widgetHooked=!0),c(!0),h(!1)},F=async e=>{let t=await (0,s.I)();g(!0),f(0),w([]),j(null);let{blob:l,url:a}=await o(t,e,f,w);l&&(y(l.type),j(URL.createObjectURL(l))),a&&(y(null),j(a)),g(!1),f(1)};return(0,a.jsxs)("section",{className:"flex flex-col items-center gap-2 max-w-md",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-center",children:t}),!d&&(0,a.jsx)("button",{onClick:N,disabled:u,className:"px-4 py-2 bg-purple-600 text-white rounded disabled:opacity-50",children:u?"Downloading FFmpegâ€¦":"Load FFmpeg (~35 MB)"}),d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{htmlFor:r,className:"px-4 py-2 bg-blue-600 text-white rounded cursor-pointer hover:bg-blue-700",children:"Select File"}),(0,a.jsx)("input",{id:r,type:"file",accept:l,className:"hidden",onChange:e=>{var t;let l=null===(t=e.target.files)||void 0===t?void 0:t[0];l&&F(l)}})]}),m&&(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"w-full bg-gray-200 h-2 rounded",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded",style:{width:"".concat(Math.round(100*p),"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-center mt-1",children:[Math.round(100*p),"%"]}),(0,a.jsx)("pre",{className:"text-xs bg-black text-green-400 p-2 mt-2 h-32 overflow-y-auto whitespace-pre-wrap",children:x.join("\n")})]}),b&&((null==v?void 0:v.startsWith("image/"))?(0,a.jsx)("img",{src:b,className:"".concat(i," mt-3 border rounded")}):(null==v?void 0:v.startsWith("video/"))?(0,a.jsx)("video",{src:b,controls:!0,className:"".concat(i," mt-3 border rounded")}):(0,a.jsx)("a",{href:b,download:(null==v?void 0:v.includes("octet"))?"output.rgb":"output.bin",className:"mt-3 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Download Result"}))]})}}}]);