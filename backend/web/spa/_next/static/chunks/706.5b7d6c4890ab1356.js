(()=>{var e={666:e=>{!function(){var t={229:function(e){var t,r,n,o=e.exports={};function a(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l=[],s=!1,u=-1;function f(){s&&n&&(s=!1,n.length?l=n.concat(l):u=-1,l.length&&p())}function p(){if(!s){var e=c(f);s=!0;for(var t=l.length;t;){for(n=l,l=[];++u<t;)n&&n[u].run();u=-1,t=l.length}n=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new d(e,t)),1!==l.length||s||c(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}},i=!0;try{t[e](a,a.exports,n),i=!1}finally{i&&delete r[e]}return a.exports}n.ab="//",e.exports=n(229)}()},3999:(e,t,r)=>{"use strict";function n(){return"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}r.d(t,{l:()=>n})},4953:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});let n=null,o=null;async function a(){if(n){if(n.loaded)return n;if(o)return await o,n}let{FFmpeg:e}=await r.e(654).then(r.bind(r,5654));return o=(n=new e).load({corePath:"/ffmpeg/umd/ffmpeg-core.js",log:!0}),await o,o=null,console.info("[FFmpeg] Core ready"),n}},5198:(e,t,r)=>{"use strict";var n=r(4953),o=r(3999),a=r(9311),i=r.n(a);async function c(e){var t,r,a;let c,l,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=await (0,n.I)();u._convHooked||(u.on("log",e=>{var t;let{message:r}=e;null===(t=s.onLog)||void 0===t||t.call(s,r)}),u.on("progress",e=>{var t;let{progress:r}=e;null===(t=s.onProgress)||void 0===t||t.call(s,80*r)}),u._convHooked=!0);let f="input_".concat((0,o.l)()),p=e.type.startsWith("image/")||e.name.toLowerCase().match(/\.(jpg|jpeg|png|gif|bmp|webp)$/);if(await u.writeFile(f,new Uint8Array(await e.arrayBuffer())),p){let e="output.raw";await u.exec(["-i",f,"-vf","scale=".concat(320,":").concat(240,":force_original_aspect_ratio=increase,crop=").concat(320,":").concat(240),"-f","rawvideo","-pix_fmt","rgb565le","-vframes","1",e]),l=await u.readFile(e),c=1,await u.deleteFile(e)}else{let e="fps=".concat(25,",scale=").concat(320,":").concat(240,":force_original_aspect_ratio=increase,crop=").concat(320,":").concat(240),t="output.raw";await u.exec(["-i",f,"-an","-threads","1","-vf",e,"-f","rawvideo","-pix_fmt","rgb565le",t]),c=Math.floor((l=await u.readFile(t)).length/153600),await u.deleteFile(t)}let d=new(i());for(let e=0;e<c;e++){let t=153600*e,r=t+153600,n=l.subarray(t,r);if(d.file("frame_".concat((e+1).toString().padStart(6,"0"),".rgb"),function(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=2)t[r]=e[r+1],t[r+1]=e[r];return t}(n)),e%10==0||1===c){let t=80+e/c*10;null===(a=s.onProgress)||void 0===a||a.call(s,t)}}let g=e.name.replace(/\.[^./]+$/,"").replace(/\s+/g,"_").toLowerCase().concat("_",(0,o.l)().slice(0,8)),v={slug:g,original_filename:e.name,type:p?"image":"video",width:320,height:240,frame_count:c,format:"rgb565",fps:25*!p};d.file("metadata.json",JSON.stringify(v)),null===(t=s.onProgress)||void 0===t||t.call(s,95);let h=await d.generateAsync({type:"blob"});null===(r=s.onProgress)||void 0===r||r.call(s,100),await u.deleteFile(f);try{await u.exit()}catch(e){}return{slug:g,blob:h}}"undefined"!=typeof self&&"postMessage"in self&&(self.onmessage=async e=>{let{id:t,file:r}=e.data;try{let{blob:e}=await c(r,{onProgress:e=>{self.postMessage({id:t,progress:e})}});self.postMessage({id:t,done:!0,blob:e})}catch(e){self.postMessage({id:t,error:(null==e?void 0:e.message)||"Conversion failed"})}})},9509:(e,t,r)=>{"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(666)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}},i=!0;try{e[n](a,a.exports,r),i=!1}finally{i&&delete t[n]}return a.exports}r.m=e,r.x=()=>{var e=r.O(void 0,[311],()=>r(5198));return r.O(e)},(()=>{var e=[];r.O=(t,n,o,a)=>{if(n){a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[n,o,a];return}for(var c=1/0,i=0;i<e.length;i++){for(var[n,o,a]=e[i],l=!0,s=0;s<n.length;s++)(!1&a||c>=a)&&Object.keys(r.O).every(e=>r.O[e](n[s]))?n.splice(s--,1):(l=!1,a<c&&(c=a));if(l){e.splice(i--,1);var u=o();void 0!==u&&(t=u)}}return t}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>311===e?"static/chunks/311-6298d57278b2b001.js":"static/chunks/"+e+"."+({361:"4c29c778157e8c02",654:"aba95996346c3a94",706:"5b7d6c4890ab1356"})[e]+".js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.tt=()=>(void 0===e&&(e={createScriptURL:e=>e},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("nextjs#bundler",e))),e)})(),r.tu=e=>r.tt().createScriptURL(e),r.p="/_next/",(()=>{r.b=self.location+"/../../../";var e={706:1};r.f.i=(t,n)=>{e[t]||importScripts(r.tu(r.p+r.u(t)))};var t=self.webpackChunk_N_E=self.webpackChunk_N_E||[],n=t.push.bind(t);t.push=t=>{var[o,a,i]=t;for(var c in a)r.o(a,c)&&(r.m[c]=a[c]);for(i&&i(r);o.length;)e[o.pop()]=1;n(t)}})(),(()=>{var e=r.x;r.x=()=>r.e(311).then(e)})(),_N_E=r.x()})();