"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9405:(e,t,n)=>{async function o(e){var t,o,l,i;let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=arguments.length>2?arguments[2]:void 0,s=g||await r(e);null===(t=c.onProgress)||void 0===t||t.call(c,0,"converting"),null===(o=c.onLog)||void 0===o||o.call(c,"Converting SVG to PNG...");let d=await e.text(),w=await a(d,320,240);null===(l=c.onProgress)||void 0===l||l.call(c,50,"converting"),null===(i=c.onLog)||void 0===i||i.call(c,"SVG rendered to PNG, processing to RGB565...");let{convertToRgb565Zip:u}=await Promise.all([n.e(311),n.e(137)]).then(n.bind(n,8137)),h=new File([w],e.name.replace(".svg",".png"),{type:"image/png"});return await u(h,{onLog:c.onLog,onProgress:(e,t)=>{var n;null===(n=c.onProgress)||void 0===n||n.call(c,50+.5*e,t)}},s)}async function a(e,t,n){return new Promise((o,a)=>{let r=document.createElement("canvas");r.width=t,r.height=n;let l=r.getContext("2d"),i=new Image;i.onload=()=>{l.fillStyle="white",l.fillRect(0,0,t,n);let e=Math.min(t/i.width,n/i.height),c=i.width*e,g=i.height*e,s=(t-c)/2,d=(n-g)/2;l.drawImage(i,s,d,c,g),r.toBlob(e=>{e?o(e):a(Error("Failed to create PNG blob"))},"image/png")},i.onerror=()=>a(Error("Failed to load SVG"));let c=new Blob([e],{type:"image/svg+xml"});i.src=URL.createObjectURL(c)})}async function r(e){let t=await e.arrayBuffer(),n=Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("").slice(0,16),o=e.name.replace(/\.[^.]+$/,"").replace(/\s+/g,"_").toLowerCase();return"".concat(o,"_").concat(n)}n.d(t,{convertSvgToRgb565Zip:()=>o})}}]);